## Запуск
Для сборки нужна установленная JDK 11

`gradlew run --console=plain`

## Архитектура

Main создает объект класса Cli и необходимые ему зависимости (реализации двух парсеров и CommandExecutor). 
CommandExecutor'у он также при создании передает Map (имя функции -> реализация). 

Cli (интерпертатор) выполняет следующие действия:
1. Считывает строчки из указанного потока
2. Первым парсером находит места для подстановки переменных
3. Выполняет подстановки
4. Строит AST c помощью второго парсера
5. Для каждой команды в AST вызывает CommandsExecutor, которому передает 
имя команды, аргументы, текущий environment, и выход предыдущей команды в пайплайне

Парсеры реализуют общий интерфейс CliParser.

CommandExecutor пытается найти имя команды в Map'е, переданной в конструктор, и в случае
успеха вызывает внутренную команду. Если команды из таким именем нет, 
то вызывает внешние команды через `scala.sys.process.Process`

Все внутренние команды реализуют общий интерфейс Command. 
Принимают и возвращают стримы, чтобы не считывать все файлы в память (это верно и для внешних команд)

![Diagram](/cli/cli_diagram.png?raw=true)
